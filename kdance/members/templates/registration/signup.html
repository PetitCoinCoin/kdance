{% extends 'layouts/base.html' %}

{% load static %}

{% block content %}

<main>
  <section>
    <div class="container">
      <div>
        <h1 class="display-4 mb-5 text-center">Création d'un compte K'Dance</h1>
        <h4 class="mb-4">Le titulaire du compte doit être un adulte responsable.</h4>
      </div>
      <form id="form-signup" name="form-signup" class="d-flex flex-column" method="post">
        {% csrf_token %}
        <div class="row">
          <div class="col-12 col-sm-6">
            <div class="form-outline mb-4">
              <label class="form-label required" for="firstname">Prénom</label>
              <input type="text" id="firstname" class="form-control" required />
            </div>
          </div>
          <div class="col-12 col-sm-6">
            <div class="form-outline mb-4">
              <label class="form-label required" for="lastname">Nom de famille</label>
              <input type="text" id="lastname" class="form-control" required />
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-12 col-sm-6">
            <div class="form-outline mb-4">
              <label class="form-label required" for="phone">Téléphone</label>
              <input type="text" id="phone" class="form-control" maxlength="10" required />
              <div id="invalid-phone" class="invalid-feedback"></div>
            </div>
          </div>
          <div class="col-12 col-sm-6">
            <div class="form-outline mb-4">
              <label class="form-label required" for="email">Email</label>
              <input type="text" id="email" class="form-control" required />
              <div id="invalid-email" class="invalid-feedback"></div>
            </div>
          </div>
        </div>
        <div class="form-outline mb-4">
          <label class="form-label required" for="address">Adresse</label>
          <textarea class="form-control" id="address" rows="2" required></textarea>
          <div id="invalid-address" class="invalid-feedback"></div>
        </div>
        <div class="row">
          <div class="col-12 col-sm-4">
            <div class="form-outline mb-4">
              <label class="form-label required" for="postal-code">Code postal</label>
              <input type="text" id="postal-code" class="form-control" maxlength="5" required />
              <div id="invalid-postal-code" class="invalid-feedback"></div>
            </div>
          </div>
          <div class="col-12 col-sm-8">
            <div class="form-outline mb-4">
              <label class="form-label required" for="city">Ville</label>
              <input type="text" id="city" class="form-control" required />
              <div id="invalid-city" class="invalid-feedback"></div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-12 col-sm-6">
            <div class="form-group mb-4">
              <label class="form-label required" for="password">Mot de passe</label>
              <span tabindex="0" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-content="Minimum 12 caractères<br />Au moins une minuscule<br />Au moins une majuscule<br />Au moins un chiffre" data-bs-placement="right" data-bs-html="true">
                <i class="bi-info-circle main-blue"></i>
              </span>
              <div class="input-group">
                <input type="password" id="password" class="form-control" required/>
                <span class="input-group-text">
                  <i class="bi bi-eye" id="toggle-password" ></i>
                 </span>
              </div>
              <div id="invalid-pwd" class="invalid-feedback"></div>
            </div>
          </div>
          <div class="col-12 col-sm-6">
            <div class="form-group mb-4">
              <label class="form-label required" for="password-confirmation">Confirmation du mot de passe</label>
              <div class="input-group">
                <input type="password" id="password-confirmation" class="form-control" required/>
                <span class="input-group-text">
                  <i class="bi bi-eye" id="toggle-password-confirmation"></i>
                 </span>
              </div>
              <div id="invalid-pwd-confirmation" class="invalid-feedback">Le mot de passe ne correspond pas !</div>
            </div>
          </div>
        </div>
        <div id="message-error-signup" class="p-3 mb-2 bg-danger-subtle text-danger-emphasis d-none">
          Une erreur est survenue. Veuillez ré-essayer plus tard ou contacter K'Dance.
        </div>
        <button type="submit" class="btn btn-info mb-4" id="btn-signup">Créer un compte</button>
      </form>
    </div>
  </section>
  <script type="text/javascript">
    const usersUrl = "{% url 'api-users-list' %}"
    const settingsUrl = "{% url 'api-settings-detail' %}";
  </script>
  <script src="{% static 'js/signup.js' %}"></script>
</main>

{% endblock %}
